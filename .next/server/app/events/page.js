(()=>{var e={};e.id=38,e.ids=[38],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>c}),s(2285),s(1066),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2285)),"/workspaces/lisbon-events/app/events/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1066)),"/workspaces/lisbon-events/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/workspaces/lisbon-events/app/events/page.tsx"],p="/events/page",d={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1845:(e,t,s)=>{Promise.resolve().then(s.bind(s,929))},929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(326),a=s(7577),i=s(6226),n=s(434),o=s(8295),l=s.n(o),c=s(7824),u=s.n(c),p=s(1812),d=s(1109);l().extend(u());let m=process.env.NEXT_PUBLIC_SUPABASE_URL,x=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;function g(){let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)({}),[c,u]=(0,a.useState)(!0),p=(0,a.useMemo)(()=>e.filter(e=>{if(l()(e.starts_at),l()(),s.search&&!`${e.title} ${e.description} ${e.location_name}`.toLowerCase().includes(s.search.toLowerCase()))return!1;if(s.categories&&s.categories.length>0){let t=Array.isArray(e.categories)&&e.categories.length?e.categories.map(e=>e.toLowerCase()):"string"==typeof e.categories?e.categories.replace(/[{}"]/g,"").split(",").map(e=>e.trim().toLowerCase()):[];if(!s.categories.some(e=>t.includes(e.toLowerCase())))return!1}if(s.audience&&s.audience.length>0){let t=Array.isArray(e.audience)&&e.audience.length?e.audience.map(e=>e.toLowerCase()):"string"==typeof e.audience?e.audience.replace(/[{}"]/g,"").split(",").map(e=>e.trim().toLowerCase()):[];if(!s.audience.some(e=>t.includes(e.toLowerCase())))return!1}return!s.is_free||!e.price||""===e.price.trim()||"Free"===e.price.trim()}),[e,s]),m=e=>e?l()(e).format("MMM D, YYYY h:mm A"):"",x=e=>{if(!e)return null;let t=e.match(/(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?`https://img.youtube.com/vi/${t[1]}/hqdefault.jpg`:null},g=e=>e&&e.includes("spotify")?"/images/spotify-cover.jpeg":null;return r.jsx("main",{className:"min-h-screen bg-[#fff8f2] text-[#40210f] px-4 py-10",children:(0,r.jsxs)("section",{className:"max-w-5xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold mb-6 text-center text-[#c94917]",children:"Upcoming Events in Lisbon"}),r.jsx(d.Z,{onFilter:o}),c?r.jsx("p",{className:"text-center text-gray-600 mt-10",children:"Loading events…"}):0===p.length?r.jsx("p",{className:"text-center text-gray-600 mt-10 italic",children:"No events match your filters."}):r.jsx("div",{className:"flex flex-col gap-6 mt-8 transition-all",children:p.map(e=>{let t;if(e.image_url&&""!==e.image_url.trim())t=e.image_url;else if(e.youtube_url&&x(e.youtube_url))t=x(e.youtube_url);else if(e.spotify_url&&g(e.spotify_url))t=g(e.spotify_url);else if(Array.isArray(e.categories)&&e.categories.length>0)t=`/images/${e.categories[0].toLowerCase().replace(/\s+/g,"-")}.jpeg`;else if("string"==typeof e.categories){let s=e.categories.replace(/[{}"]/g,"").split(",")[0];t=`/images/${s?.trim().toLowerCase().replace(/\s+/g,"-")}.jpeg`}else t="/images/default.jpeg";return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row bg-white border border-orange-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition",children:[r.jsx("div",{className:"relative w-full sm:w-56 h-40 sm:h-auto",children:r.jsx(i.default,{src:t,alt:e.title,fill:!0,className:"object-cover",onError:e=>{e.target.src="/images/default.jpeg"}})}),(0,r.jsxs)("div",{className:"flex-1 p-5",children:[r.jsx("h2",{className:"text-xl font-semibold mb-1 text-[#c94917]",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:["\uD83D\uDCCD ",e.location_name||"Location TBA"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:["\uD83D\uDD52 ",m(e.starts_at),e.ends_at?` – ${m(e.ends_at)}`:""]}),e.price?(0,r.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:["\uD83D\uDCB6 ",e.price]}):r.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"\uD83C\uDD93 Free"}),e.description&&r.jsx("p",{className:"text-sm text-gray-700 mt-2 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"mt-3 flex flex-wrap gap-3",children:[e.youtube_url&&r.jsx("a",{href:e.youtube_url,target:"_blank",rel:"noreferrer",className:"text-sm text-[#c94917] underline",children:"\uD83C\uDFA5 YouTube"}),e.spotify_url&&r.jsx("a",{href:e.spotify_url,target:"_blank",rel:"noreferrer",className:"text-sm text-[#c94917] underline",children:"\uD83C\uDFB5 Spotify"}),e.address&&r.jsx(n.default,{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.address)}`,target:"_blank",className:"text-sm text-[#c94917] underline",children:"\uD83D\uDDFA️ Map"})]})]})]},e.id)})})]})})}(0,p.eI)(m,x)},2285:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var r=s(8570);let a=(0,r.createProxy)(String.raw`/workspaces/lisbon-events/app/events/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,r.createProxy)(String.raw`/workspaces/lisbon-events/app/events/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,707,812,285,402],()=>s(8805));module.exports=r})();