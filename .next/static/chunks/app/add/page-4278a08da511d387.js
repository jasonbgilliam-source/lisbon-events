(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853],{6457:function(e,t,s){Promise.resolve().then(s.bind(s,1976))},1976:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var l=s(7437),r=s(2265);function i(){let[e,t]=r.useState(!1),[s,i]=r.useState(null);async function a(e){var s,l;e.preventDefault(),i(null),t(!0);try{let t=new FormData(e.currentTarget),l={title:String(t.get("title")||"").trim(),start:String(t.get("start")||"").trim(),end:String(t.get("end")||"").trim(),all_day:String(t.get("all_day")||"").trim(),venue:String(t.get("venue")||"").trim(),city:String(t.get("city")||"").trim(),address:String(t.get("address")||"").trim(),price:String(t.get("price")||"").trim(),age:String(t.get("age")||"").trim(),category:String(t.get("category")||"").trim(),description:String(t.get("description")||"").trim(),organizer:String(t.get("organizer")||"").trim(),source_url:String(t.get("source_url")||"").trim(),tags:String(t.get("tags")||"").trim(),recurrence_note:String(t.get("recurrence_note")||"").trim()};if(!l.title||!l.start){i("Please fill in at least Title and Start");return}let r=await fetch("/api/add-event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a=await r.json().catch(()=>({}));if(!r.ok)throw Error(null!==(s=a.error)&&void 0!==s?s:r.statusText);i("✅ Event submitted!"),e.currentTarget.reset()}catch(e){i("❌ Submit failed: ".concat(null!==(l=e.message)&&void 0!==l?l:"Unknown error"))}finally{t(!1)}}return(0,l.jsxs)("main",{className:"mx-auto max-w-2xl p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Add Event"}),(0,l.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Title *"}),(0,l.jsx)("input",{name:"title",className:"border p-2 w-full",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Start (date/time) *"}),(0,l.jsx)("input",{name:"start",type:"datetime-local",className:"border p-2 w-full",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"End (date/time)"}),(0,l.jsx)("input",{name:"end",type:"datetime-local",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"All Day"}),(0,l.jsxs)("select",{name:"all_day",className:"border p-2 w-full",children:[(0,l.jsx)("option",{value:"",children:"(no)"}),(0,l.jsx)("option",{value:"true",children:"true"}),(0,l.jsx)("option",{value:"false",children:"false"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Venue"}),(0,l.jsx)("input",{name:"venue",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"City"}),(0,l.jsx)("input",{name:"city",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Address"}),(0,l.jsx)("input",{name:"address",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Price"}),(0,l.jsx)("input",{name:"price",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Age"}),(0,l.jsx)("input",{name:"age",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Category"}),(0,l.jsx)("input",{name:"category",className:"border p-2 w-full"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,l.jsx)("textarea",{name:"description",className:"border p-2 w-full",rows:4})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Organizer"}),(0,l.jsx)("input",{name:"organizer",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Source URL"}),(0,l.jsx)("input",{name:"source_url",type:"url",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Tags (comma-separated)"}),(0,l.jsx)("input",{name:"tags",className:"border p-2 w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Recurrence Note"}),(0,l.jsx)("input",{name:"recurrence_note",className:"border p-2 w-full"})]})]}),(0,l.jsx)("button",{type:"submit",disabled:e,className:"px-4 py-2 border rounded",children:e?"Submitting…":"Submit"}),s&&(0,l.jsx)("p",{className:"mt-3 text-sm",children:s})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6457)}),_N_E=e.O()}]);